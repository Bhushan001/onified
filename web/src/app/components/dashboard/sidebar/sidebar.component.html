<div class="sidebar" [class.collapsed]="isCollapsed" [class.mobile-open]="isMobileOpen">
  <!-- Sidebar Header -->
  <div class="sidebar-header" *ngIf="!isCollapsed">
    <div class="hub-title">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hub-icon">
        <rect width="18" height="18" x="3" y="3" rx="2"></rect>
        <path d="M3 9h18"></path>
        <path d="M3 15h18"></path>
        <path d="M9 3v18"></path>
        <path d="M15 3v18"></path>
      </svg>
      <span class="hub-text">Onified Hub</span>
    </div>
  </div>

  <!-- Navigation Menu -->
  <nav class="sidebar-nav">
    <ul class="nav-list">
      <li class="nav-item" *ngFor="let item of menuItems" 
          [class.active]="item.active"
          [class.section-header]="item.isSection"
          [class.has-children]="item.children && item.children.length > 0"
          [class.child-item]="item.isChild">
        <!-- Section Header -->
        <div class="section-title" *ngIf="item.isSection && !isCollapsed">
          {{ item.label }}
        </div>
        <!-- Regular Menu Item -->
        <button class="nav-link" 
                *ngIf="!item.isSection"
                (click)="onMenuClick(item)"
                [class.active]="item.active"
                [class.child-link]="item.isChild"
                [title]="isCollapsed ? item.label : ''">
          <!-- Font Awesome Icons for Menu Items -->
          <i *ngIf="item.id === 'core-settings' && !item.isChild" class="fa fa-cogs nav-icon"></i>
          <i *ngIf="item.id === 'identity-access' && !item.isChild" class="fa fa-shield-alt nav-icon"></i>
          <i *ngIf="item.id === 'org-structure' && !item.isChild" class="fa fa-database nav-icon"></i>
          <i *ngIf="item.id === 'roles-permissions' && !item.isChild" class="fa fa-check-square nav-icon"></i>
          <i *ngIf="item.id === 'licensing-billing' && !item.isChild" class="fa fa-credit-card nav-icon"></i>
          <i *ngIf="item.id === 'user-management' && !item.isChild" class="fa fa-user-check nav-icon"></i>
          <i *ngIf="item.id === 'notifications-alerts' && !item.isChild" class="fa fa-bell nav-icon"></i>
          <i *ngIf="item.id === 'help-support' && !item.isChild" class="fa fa-question-circle nav-icon"></i>
          <i *ngIf="item.id === 'feedback-settings' && !item.isChild" class="fa fa-star nav-icon"></i>
          <span class="nav-text" *ngIf="!isCollapsed" [class.child-text]="item.isChild">{{ item.label }}</span>
        </button>
        <!-- Child Items -->
        <ul class="nav-submenu" *ngIf="item.children && item.expanded && !isCollapsed">
          <li class="nav-subitem" *ngFor="let child of item.children">
            <button class="nav-sublink" 
                    (click)="onChildClick(child)"
                    [class.active]="child.active">
              <span class="nav-subtext">{{ child.label }}</span>
            </button>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

  <!-- Sidebar Footer -->
  <div class="sidebar-footer" *ngIf="!isCollapsed">
    <div class="powered-by">
      <span class="powered-text">Powered by</span>
      <span class="onified-link">Onified</span>
    </div>
  </div>
</div>

<!-- Sidebar Overlay for Mobile -->
<div class="sidebar-overlay" 
     *ngIf="isMobileOpen && isMobile" 
     (click)="onToggleSidebar()"></div> 